# ===========================================
# AIRS Production Environment Variables
# ===========================================
# Copy this file to env.prod and fill in values
# DO NOT commit env.prod to version control!
# ===========================================

# Environment mode (must be "prod" for production)
ENV=prod

# Application settings
APP_NAME=AIRS
DEBUG=false

# ===========================================
# GCP Settings
# ===========================================
GCP_PROJECT_ID=gen-lang-client-0384513977

# ===========================================
# Database
# ===========================================
# SQLite (MVP only - data does NOT persist across Cloud Run instances)
# DATABASE_URL=sqlite:///./airs.db

# ----- Cloud SQL PostgreSQL (Recommended) -----
# Use Unix socket for Cloud Run (best performance, no SSL config needed)
# Replace placeholders: PROJECT_ID, REGION, INSTANCE_NAME, USER, PASSWORD, DBNAME
#
# Unix Socket (recommended for Cloud Run):
DATABASE_URL=postgresql://USER:PASSWORD@/DBNAME?host=/cloudsql/PROJECT_ID:REGION:INSTANCE_NAME
#
# Example with actual values:
# DATABASE_URL=postgresql://airs_user:secret123@/airs_db?host=/cloudsql/gen-lang-client-0384513977:us-central1:airs-db
#
# TCP Connection (for external access or Cloud SQL Auth Proxy):
# DATABASE_URL=postgresql://USER:PASSWORD@CLOUD_SQL_PRIVATE_IP:5432/DBNAME
# DATABASE_URL=postgresql://USER:PASSWORD@127.0.0.1:5432/DBNAME  # via proxy

# ===========================================
# CORS - Allowed Origins
# ===========================================
# Comma-separated list of allowed origins
# Replace with your frontend URL(s) in production
CORS_ALLOW_ORIGINS=https://your-frontend.run.app,https://your-domain.com

# ===========================================
# LLM Configuration (Optional)
# ===========================================
# ===========================================
# Demo Mode (for CISO presentations)
# ===========================================
# DEMO_MODE allows LLM features without strict validation.
# When DEMO_MODE=true:
#   - AIRS_USE_LLM=true works without GEMINI_API_KEY (uses ADC)
#   - LLM generates narrative text only (no score modification)
#   - Falls back to deterministic text if LLM fails
#   - UI shows "AI-generated (demo)" badge
#
# ┌─────────────────────────────────────────────────────────┐
# │  DEMO SETTINGS (for presentations)                     │
# ├─────────────────────────────────────────────────────────┤
# │  DEMO_MODE=true                                         │
# │  AIRS_USE_LLM=true                                      │
# │  LLM_PROVIDER=gemini                                    │
# │  LLM_MODEL=gemini-3.0-pro                               │
# │  GEMINI_API_KEY=<from Secret Manager or ADC>            │
# └─────────────────────────────────────────────────────────┘
#
# ┌─────────────────────────────────────────────────────────┐
# │  PRODUCTION SETTINGS (for real assessments)            │
# ├─────────────────────────────────────────────────────────┤
# │  DEMO_MODE=false                                        │
# │  AIRS_USE_LLM=true (optional)                           │
# │  LLM_PROVIDER=gemini                                    │
# │  LLM_MODEL=gemini-2.0-flash                             │
# │  GEMINI_API_KEY=<required if not using ADC>             │
# └─────────────────────────────────────────────────────────┘
#
DEMO_MODE=false

# ===========================================
# LLM Configuration (Optional)
# ===========================================
# LLM is ONLY used for narrative text generation:
#   ✓ Executive summary paragraph
#   ✓ 30/60/90 day roadmap narrative
# LLM does NOT modify scores, tiers, or findings.
#
# Set to true to enable AI narrative generation
AIRS_USE_LLM=false

# LLM Provider (currently only "gemini" supported)
LLM_PROVIDER=gemini

# Gemini API key
# - Required in production if not using ADC
# - Optional in demo mode (falls back to ADC on Cloud Run)
# - Store in Secret Manager for production deployments
# Get from: https://aistudio.google.com/apikey
# GEMINI_API_KEY=your-api-key-here

# LLM Model
# - gemini-3.0-pro: Latest, best quality (recommended for demos)
# - gemini-2.0-flash: Fast, cost-effective (recommended for production)
LLM_MODEL=gemini-2.0-flash

# ===========================================
# Authentication
# ===========================================
# Set to true to require Firebase Auth tokens
# When ENV=prod, auth is always required regardless of this setting
AUTH_REQUIRED=true

# Firebase Project ID (for token verification)
# Uses Application Default Credentials (ADC) on Cloud Run
# FIREBASE_PROJECT_ID is automatically detected from ADC
